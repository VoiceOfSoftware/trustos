

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TrustID &mdash; trustos master documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Use cases" href="use_cases.html" />
    <link rel="prev" title="Trust" href="trust.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          


          
            <a href="index.html" class="icon icon-home"> trustos
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

<br>
<a style="width:100%;" href="index.html">
    <h1 style="color: white; font-size:220%; margin-bottom:2px;">TrustOS</h1>
</a>
<img style="background:none; margin: auto;  width:30%; height:95%;" alt="Telefónica"
    src="_static/images/telefonica_white.png" />

<!-- 
<a href="https://github.com/hyperledger/fabric"></a>
&nbsp;<a href="https://stackoverflow.com/questions/tagged/hyperledger-fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="StackOverflow" src="_static/images/stackoverflow_button.png"/></a>
&nbsp;<a href="https://chat.hyperledger.org"><img style="padding: 0px; margin: auto auto auto auto;" alt="Rocket Chat" src="_static/images/rocketchat_button.png"/></a>
&nbsp;<a href="https://www.youtube.com/playlist?list=PL0MZ85B_96CH7wvtrRzV7SvtRY0sI0DEg"><img style="padding: 0px; margin: auto auto auto auto;" alt="Youtube Channel" src="_static/images/youtube_button.png"/></a> -->


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="track.html">Track</a></li>
<li class="toctree-l1"><a class="reference internal" href="token.html">Token</a></li>
<li class="toctree-l1"><a class="reference internal" href="settle.html">Settle</a></li>
<li class="toctree-l1"><a class="reference internal" href="trust.html">Trust</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TrustID</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#trustid-sdk">TrustID SDK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#install">Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-of-use">Example of use</a></li>
<li class="toctree-l3"><a class="reference internal" href="#structure">Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wallet">Wallet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#driver">Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#keystore">Keystore</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id-api">ID API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#api-specification">API Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#post-id-login">POST   -   <code class="docutils literal notranslate"><span class="pre">/id/login</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-id-refresh">POST   -   <code class="docutils literal notranslate"><span class="pre">/id/refresh</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-id-sign">POST   -   <code class="docutils literal notranslate"><span class="pre">/id/sign</span></code>:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-id-revoke">POST   -   <code class="docutils literal notranslate"><span class="pre">/id/revoke</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-id-create">POST   -    <code class="docutils literal notranslate"><span class="pre">/id/create</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-id-verify">POST   -   <code class="docutils literal notranslate"><span class="pre">/id/verify</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-id-get">POST   -   <code class="docutils literal notranslate"><span class="pre">/id/get</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-service-create">POST   -   <code class="docutils literal notranslate"><span class="pre">/service/create</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-service-update">POST   -   <code class="docutils literal notranslate"><span class="pre">/service/update</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-service-get">POST   -   <code class="docutils literal notranslate"><span class="pre">/service/get</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-service-invoke">POST   -   <code class="docutils literal notranslate"><span class="pre">/service/invoke</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#roadmap">Roadmap</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="use_cases.html">Use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">trustos</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>TrustID</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/id.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="trustid">
<h1>TrustID<a class="headerlink" href="#trustid" title="Permalink to this headline">¶</a></h1>
<p>TrustID is a standalone identity module for TrustOS. We followed a decentralized identity approach for its design, where users (and services) are identified through a DID.</p>
<p>These DIDs follow the W3C standard, and they serve as a unique ID to identify users. DIDs aggregate all the pieces of public information required to authenticate a user (i.e., their public key or X.509 certificate).</p>
<p><img alt="DID" src="_images/did.png" />
<img alt="Service DID" src="_images/service-did.png" /></p>
<p>In order to uniquely identify chaincodes and services deployed in TrustOS, we decided to also give them DIDs so that they could be seamlessly discovered and accessed even if they “live” in independent channels not shared by all the organizations of the network.</p>
<p>All the authentication and management of identities in the system is performed on-chain through an “Identity Chaincode.”</p>
<p>If user A wants to start interacting with the network, he requests the generation of a new DID. The related keys to this DID could be an existing X.509 issued by a valid organization, or even an Ethereum-related public key (internally we use all the JWS, JWE, JWK, secp256k1, etc. RFCs to make our Fabric infrastructure compatible with identities of any nature for the sake of interoperability). This DID generation request has to be validated by a valid organization of the network. Once verified, every transaction signed by user A and directed through a Proxy chaincode is authenticated successfully and delegated to the corresponding chaincode.</p>
<p><img alt="TrustID Flow" src="_images/trustid-flow.png" /></p>
<p>The TrustID project is conformed by the aforementioned chaincode and a client SDK to ease the integration and interaction with TrustID-enabled networks.</p>
<p>TrustID is designed to ease the management of identities for the case of TrustOS. Users shouldn’t need to hold a different set of credentials for each network or decentralized application they interact with. The same credentials used to access your owned Bitcoins and manage your tokens in Ethereum should let you update the state of a Fabric asset or launch a secondary market in TrustOS.</p>
<hr><div class="section" id="trustid-sdk">
<h2>TrustID SDK<a class="headerlink" href="#trustid-sdk" title="Permalink to this headline">¶</a></h2>
<p>This SDK exposes all the functionalities required to interact with
TrustID-based DLT networks.</p>
<div class="section" id="install">
<h3>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>To install this library you need access to the private repo:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="n">core</span><span class="o">-</span><span class="nb">id</span><span class="o">-</span><span class="n">sdk</span>
</pre></div>
</div>
</div>
<div class="section" id="example-of-use">
<h3>Example of use<a class="headerlink" href="#example-of-use" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// Use library</span>
<span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;coren-id-sdk&#39;</span><span class="p">)</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Keystore</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./keystore/keystore&#39;</span><span class="p">;</span>


<span class="c1">// Initialize wallet</span>
<span class="nx">wal</span> <span class="o">=</span> <span class="nx">id</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">.</span><span class="nx">Instance</span><span class="p">;</span>

<span class="c1">// Create Keystore</span>
<span class="nx">ks</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FileKeystore</span><span class="p">();</span>
<span class="c1">// Set keystore in wallet</span>
<span class="nx">wal</span><span class="p">.</span><span class="nx">setKeystore</span><span class="p">(</span><span class="nx">ks</span><span class="p">)</span>
<span class="c1">// LoadKeystore from file</span>
 <span class="nx">wal</span><span class="p">.</span><span class="nx">loadKeystore</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="s1">&#39;./keystore&#39;</span><span class="p">)</span>
<span class="c1">// Set endpoint of driver and store in variable to use it.</span>
<span class="kr">const</span> <span class="nx">hfdriver</span> <span class="o">=</span> <span class="nx">wal</span><span class="p">.</span><span class="nx">drivers</span><span class="p">.</span><span class="nx">hf</span>
<span class="nx">hfdriver</span><span class="p">.</span><span class="nx">setEndpoint</span><span class="p">(</span><span class="s2">&quot;http://localhost:8080&quot;</span><span class="p">);</span>

<span class="c1">// Use the wallet and the driver</span>
<span class="nx">wal</span><span class="p">.</span><span class="nx">generateDID</span><span class="p">(</span><span class="s2">&quot;RSA&quot;</span><span class="p">)</span>
<span class="nx">hfdriver</span><span class="p">.</span><span class="nx">createIdentity</span><span class="p">(</span><span class="nx">wal</span><span class="p">.</span><span class="nx">getDID</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="structure">
<h3>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h3>
<p>The library has the following modules:</p>
<div class="section" id="wallet">
<h4>Wallet<a class="headerlink" href="#wallet" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">wallet.ts</span></code>: Core module of the library. It wraps all the state and
logic for identity management and interaction with TrustID networks.
To start using the SDK a new wallet needs to be initialized. A wallet
exposes the following methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">setKeystore(keystore:</span> <span class="pre">Keystore):</span> <span class="pre">void</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">generateDID(type:</span> <span class="pre">string,</span> <span class="pre">controller:</span> <span class="pre">string,</span> <span class="pre">passphrase):</span> <span class="pre">DID</span></code></p></li>
</ul>
<p>And stores the following information:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">DID</span></code>: Has the following structure.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">id:</span> <span class="pre">string</span></code>: Id string that identifies the DID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">pubkey:</span> <span class="pre">string</span></code>: PublicKey of the DID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">type:</span> <span class="pre">string</span></code>: Key type (RSA / EC / OKP).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">controller:</span> <span class="pre">string</span></code>: Verifier of the identity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">access:</span> <span class="pre">number</span></code>: Access level</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">private</span> <span class="pre">privkey:</span> <span class="pre">string</span></code>: Private Key of the DID.</p></li>
</ul>
<p>And exposes the following functions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">unlockAccount(passphrase:</span> <span class="pre">string):</span> <span class="pre">void</span></code>: Unlocks private key in order to use the DID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">lockAccount():</span> <span class="pre">any</span></code>: Locks the private key for a DID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">sign(payload:</span> <span class="pre">object,</span> <span class="pre">passphrase:</span> <span class="pre">string):</span> <span class="pre">string</span></code>: Sign a payload with a specific DID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">verify(signature:</span> <span class="pre">string,</span> <span class="pre">id:</span> <span class="pre">string):</span> <span class="pre">any</span></code>: Verifies a signature from a DID.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="driver">
<h4>Driver<a class="headerlink" href="#driver" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">driver.ts</span></code>: Interface that enables the implementation of connection drivers with different TrustID networks. The only driver implemented currently is
the <code class="docutils literal notranslate"><span class="pre">hfdriver.ts</span></code> enabling the interaction with Hyperledger Fabric TrustID
networks.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">setEndpoint(endpoint:</span> <span class="pre">string):</span> <span class="pre">void</span></code>: Sets the network endpoint to interact with the TrustID network.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">createIdentity(did:</span> <span class="pre">DID):</span> <span class="pre">Promise&lt;object&gt;</span></code>: Create an identity in TrustID. It generates a new DID in the wallet and register it in the network.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verifyIdentity(adminDID:</span> <span class="pre">DID,</span> <span class="pre">id:string):</span> <span class="pre">Promise&lt;object&gt;</span></code>: Verifies an identity as an admin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getIdentity(did:</span> <span class="pre">DID,</span> <span class="pre">id:</span> <span class="pre">string):</span> <span class="pre">*</span> <span class="pre">Promise&lt;object&gt;</span></code>: Gets a registered identity from TrustID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">revokeIdentity(adminDID:</span> <span class="pre">DID,</span> <span class="pre">id:</span> <span class="pre">string):</span> <span class="pre">Promise&lt;object&gt;</span></code>: Revokes a registered identity. Only supported by the owner or controller of the DID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">createService(did:</span> <span class="pre">DID,</span> <span class="pre">serviceDID:</span> <span class="pre">string,</span> <span class="pre">name:</span> <span class="pre">string,</span> <span class="pre">isPublic:</span> <span class="pre">boolean):</span> <span class="pre">Promise&lt;object&gt;</span></code>: Creates a new service in the TrustID network.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">updateService(did:</span> <span class="pre">DID,</span> <span class="pre">serviceDID:</span> <span class="pre">string,</span> <span class="pre">access:</span> <span class="pre">Access,</span> <span class="pre">isPublic:</span> <span class="pre">boolean):</span> <span class="pre">Promise&lt;object&gt;</span></code>: Updates the information from a service.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getService(did:</span> <span class="pre">DID,</span> <span class="pre">serviceDID:</span> <span class="pre">string):</span> <span class="pre">Promise&lt;object&gt;</span></code>: Gets information from a registered service.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">invoke</span> <span class="pre">(did:</span> <span class="pre">DID,</span> <span class="pre">serviceDID:</span> <span class="pre">string,</span> <span class="pre">args:</span> <span class="pre">string[],</span> <span class="pre">channel:</span> <span class="pre">string):</span> <span class="pre">Promise&lt;object&gt;</span></code>: Invokes a function of a registered service in the TrustID network.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">query(did:</span> <span class="pre">DID,</span> <span class="pre">serviceDID:</span> <span class="pre">string,</span> <span class="pre">args:</span> <span class="pre">string[],</span> <span class="pre">channel:</span> <span class="pre">string):</span> <span class="pre">Promise&lt;object&gt;</span></code>: Queries a function of a registered service in the TrustID network</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="keystore">
<h4>Keystore<a class="headerlink" href="#keystore" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">keystore.ts</span></code>: Interface that enables the implementation of keystore storages.
There are currently two implementations of keystore supported: <code class="docutils literal notranslate"><span class="pre">FileKeystore.ts</span></code> (to store DIDs in file keystore)and <code class="docutils literal notranslate"><span class="pre">MongoKeystore.ts</span></code> (to store DIDs in MongoDB).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">abstract</span> <span class="pre">getDID(id:</span> <span class="pre">string):</span> <span class="pre">DID</span></code>: Get specific DID from keystore.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">abstract</span> <span class="pre">storeDID(did:</span> <span class="pre">DID):</span> <span class="pre">boolean</span></code>: Store DID in keystore.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">storeInMemory(did:</span> <span class="pre">DID):</span> <span class="pre">boolean</span></code>: Store DID inMemory for easy and performant use.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">listDID():</span> <span class="pre">string[]</span></code>: List DIDs in memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">setDefault(did:</span> <span class="pre">DID):</span> <span class="pre">boolean</span></code>: Set DID as default identity for the keystore wallet.</p></li>
</ul>
</li>
</ul>
<p>If you want additional information of TrustID, its SDK and its functionality
check the following <a class="reference external" href="https://github.com/telefonica-tid/coren-id-sdk">repo</a>.</p>
<hr></div>
</div>
</div>
<div class="section" id="id-api">
<h2>ID API<a class="headerlink" href="#id-api" title="Permalink to this headline">¶</a></h2>
<p>An abstraction TrustID API implementation. It wraps the functionality of the TrustID SDK in order to offer basic identity management services to users comfortable delegating the responsability of their keys to a custodian. ID API acts as the third-party custodian of the users keys.</p>
<div class="section" id="api-specification">
<h3>API Specification<a class="headerlink" href="#api-specification" title="Permalink to this headline">¶</a></h3>
<p>The implementation considers that the API is the third-party custodial of
TrustID keys. Currently the keystore is implemented with a FileKeystore,
MongoKeystore comming soon. Private keys from users are stored ciphered
with a passphrase. In order to call every function and unlock the account
the passphrase needs to be provided. The API has the following routes.</p>
</div>
<div class="section" id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<div class="section" id="post-id-login">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/id/login</span></code><a class="headerlink" href="#post-id-login" title="Permalink to this headline">¶</a></h4>
<p>It return a JWT to interact with services authenticated
using JWT using TrustID as identity backend. This functionality is offered
for every user in the system (even those for which we are not the
custodials of the keys). Some services may be still authenticated with JWT,
and we want to support this authentication even of TrustID users.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;did:vtn:trustid:ae0213fncasdf234&quot;</span><span class="p">,</span>
  <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;pass&quot;</span><span class="p">,</span>
  <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;arg1&quot;</span><span class="p">:</span> <span class="s2">&quot;NonCustodianu&quot;</span><span class="p">,</span>
    <span class="s2">&quot;arg2&quot;</span><span class="p">:</span> <span class="s2">&quot;seSDKtoGeneratePayload&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details><br></div>
<div class="section" id="post-id-refresh">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/id/refresh</span></code><a class="headerlink" href="#post-id-refresh" title="Permalink to this headline">¶</a></h4>
<p>It refreshes a JWT login.</p>
</div>
<div class="section" id="post-id-sign">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/id/sign</span></code>:<a class="headerlink" href="#post-id-sign" title="Permalink to this headline">¶</a></h4>
<p>Requests a signature using a key in custody. Useful when a user has to
share signed payloads off-chain.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary>
```
{
  "password": "passphrase",
  "payload": {
    "arg1": "test",
    "arg2": "payload"
  }
}
```
</details><br></div>
<div class="section" id="post-id-revoke">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/id/revoke</span></code><a class="headerlink" href="#post-id-revoke" title="Permalink to this headline">¶</a></h4>
<p>Sends a request to revoke a specific identity. You need to be
the owner of the identity or its controller to perform this task.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;did:vtn:test&quot;</span><span class="p">,</span>
  <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;passphrase&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details><br></div>
<div class="section" id="post-id-create">
<h4>POST   -    <code class="docutils literal notranslate"><span class="pre">/id/create</span></code><a class="headerlink" href="#post-id-create" title="Permalink to this headline">¶</a></h4>
<p>Create a new identity with the key determined in type and a
passphrase to lock the private key.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;passphrase&quot;</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;RSA&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details><br></div>
<div class="section" id="post-id-verify">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/id/verify</span></code><a class="headerlink" href="#post-id-verify" title="Permalink to this headline">¶</a></h4>
<p>Verification of a registered identity by a controller in the system.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary>
```
{
  "id": "did:vtn:test",
  "password": "passphrase"
}
```
</details><br></div>
<div class="section" id="post-id-get">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/id/get</span></code><a class="headerlink" href="#post-id-get" title="Permalink to this headline">¶</a></h4>
<p>Gets the information from a registered identity.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary>
```
{
  "id": "did:vtn:service:012343",
  "password": "passphrase"
}
```
</details><br></div>
<div class="section" id="post-service-create">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/service/create</span></code><a class="headerlink" href="#post-service-create" title="Permalink to this headline">¶</a></h4>
<p>Create a new service in the TrustID network.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary>
```
{
  "serviceID": "coren-trustcc",
  "password": "passphrase",
  "name": "chaincode-name",
  "isPublic": true
}
```
</details><br></div>
<div class="section" id="post-service-update">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/service/update</span></code><a class="headerlink" href="#post-service-update" title="Permalink to this headline">¶</a></h4>
<p>Updates the information of a service.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary>
```
{
  "serviceID": "coren-trustcc",
  "password": "passphrase",
  "access": 0,
  "isPublic": true
}
```
</details><br></div>
<div class="section" id="post-service-get">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/service/get</span></code><a class="headerlink" href="#post-service-get" title="Permalink to this headline">¶</a></h4>
<p>Gets the registered information for a service.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary>
```
{
  "serivceID": "did:vtn:service:012343",
  "password": "passphrase"
}
```
</details><br></div>
<div class="section" id="post-service-invoke">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/service/invoke</span></code><a class="headerlink" href="#post-service-invoke" title="Permalink to this headline">¶</a></h4>
<p>Invoke a function from a distributed service using TrustID.</p>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary>
```
{
  "serviceID": "did:vtn:trustos:123drfw",
  "password": "passphrase",
  "args": [
    "a",
    "b",
    "200"
  ],
  "channel": "channel1",
  "function": "create"
}
```
</details><br><p>If you want additional information about this API implementation and its functionality
check the following <a class="reference external" href="https://github.com/telefonica-tid/coren-id-api">repo</a>.</p>
</div>
</div>
</div>
<div class="section" id="roadmap">
<h2>Roadmap<a class="headerlink" href="#roadmap" title="Permalink to this headline">¶</a></h2>
<p>Work in progress…</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="use_cases.html" class="btn btn-neutral float-right" title="Use cases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="trust.html" class="btn btn-neutral" title="Trust" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <!-- <div role="contentinfo">
    <p>
        &copy; Copyright Telefónica 2020.

    </p>
  </div> -->
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>